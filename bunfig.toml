# ============================================
# Bun Runtime Configuration (bunfig.toml)
# Production-grade configuration for Liora Bot
# Docs: https://bun.sh/docs/runtime/bunfig
# ============================================

smol = true
# Log level: "debug" | "warn" | "error"
logLevel = "error"

# ============================================
# Console Configuration
# ============================================
[console]
depth = 5

# ============================================
# Loader Configuration
# ============================================
[loader]
".js" = "js"
".jsx" = "jsx"
".ts" = "ts"
".tsx" = "tsx"
".json" = "json"
".toml" = "toml"
".css" = "css"
".txt" = "text"

# ============================================
# Install Configuration
# ============================================
[install]
optional = true
dev = true
peer = true
production = true
exact = false
saveTextLockfile = true
# Auto-install mode: "auto" | "fallback" | "force"
auto = "auto"
frozenLockfile = false
dryRun = false
registry = "https://registry.npmjs.org"
# Package manager linker: "hoisted" | "isolated" | "symlink"
linker = "hoisted"
linkWorkspacePackages = true
globalDir = "~/.bun/install/global"
globalBinDir = "~/.bun/bin"

# ============================================
# Install Cache Configuration
# ============================================
[install.cache]
dir = "~/.bun/install/cache"
disable = false
disableManifest = false

# ============================================
# Lockfile Configuration
# ============================================
[install.lockfile]
save = true
# Print lockfile in specific format: "yarn" | "npm"
# Uncomment to enable
# print = "yarn"

# ============================================
# Scoped Registries (Private packages)
# ============================================
# [install.scopes]
# "@mycompany" = { url = "https://npm.mycompany.com", token = "..." }

# ============================================
# Run Configuration
# ============================================
[run]
shell = "bun"
bun = true
silent = false

# Set environment variables
# [run.env]
# NODE_ENV = "production"

# ============================================
# Test Configuration
# ============================================
[test]
root = "."
smol = false
coverage = false
coverageSkipTestFiles = false
# Coverage reporters: "text" | "lcov" | "html" | "json"
coverageReporter = ["text", "lcov"]
coverageDir = "coverage"
coverageThreshold = 0
telemetry = false
# Preload modules before tests
# preload = ["./test-setup.ts"]

# ============================================
# Bundler Configuration
# ============================================
# [bundle]
# Enable minification
# minify = true
# Source maps: true | "inline" | "external" | "none"
# sourcemap = "external"
# Target environment: "browser" | "bun" | "node"
# target = "bun"

# ============================================
# Macros (Advanced)
# ============================================
# [macro]
# Define compile-time macros
# "process.env.API_URL" = "https://api.example.com"

# ============================================
# WebSocket Configuration
# ============================================
# Native Bun WebSocket settings
# [websocket]
# Maximum message size in bytes
# maxPayloadLength = 16777216  # 16MB
# Per-socket backpressure limit
# backpressureLimit = 16777216  # 16MB
# Close on backpressure
# closeOnBackpressureLimit = false
# Idle timeout in seconds
# idleTimeout = 120

# ============================================
# Runtime Performance Tuning
# ============================================
# [define]
# Define compile-time constants
# "process.env.NODE_ENV" = "production"
# "DEBUG" = "false"

# ============================================
# Preload Scripts
# ============================================
# Load scripts before application starts
# preload = [
#   "./lib/polyfills.js",
#   "./lib/globals.js"
# ]